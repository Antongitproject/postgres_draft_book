# pg_verifybackup в PostgreSQL
pg_verifybackup — это утилита командной строки в PostgreSQL, которая используется для проверки целостности и полноты резервных копий, созданных с помощью утилиты pg_basebackup. Эта утилита помогает администраторам баз данных убедиться, что резервные копии пригодны для восстановления и не содержат ошибок.

!!! info "Основное назначение"
    pg_verifybackup предназначен для проверки резервных копий PostgreSQL на предмет их целостности и полноты. Основные цели использования этой утилиты включают в себя:

    Проверка целостности резервных копий: Утилита проверяет, что все файлы и блоки данных в резервной копии не повреждены и могут быть успешно восстановлены.

    Проверка полноты резервных копий: Утилита убеждается, что все необходимые файлы включены в резервную копию, и она является полной.

## Синтаксис команды
pg_verifybackup [option...] backup_directory

Опции
Некоторые наиболее часто используемые опции pg_verifybackup:

-e, --extended
Выполняет расширенную проверку, включая проверку контрольных сумм страниц.

-i, --ignore-external-config
Игнорирует внешние конфигурационные файлы, не включенные в резервную копию.

-n, --no-verify-checksums
Отключает проверку контрольных сумм блоков данных.

## Примеры использования

Проверка резервной копии по умолчанию
pg_verifybackup /path/to/backup_directory

Расширенная проверка с проверкой контрольных сумм
pg_verifybackup -e /path/to/backup_directory

Проверка резервной копии без проверки контрольных сумм
pg_verifybackup -n /path/to/backup_directory

## Полезные советы
Регулярная проверка резервных копий: Регулярно выполняйте проверку резервных копий с помощью pg_verifybackup, чтобы убедиться в их целостности и готовности к восстановлению.
Расширенная проверка: Используйте расширенную проверку (-e) для более глубокой проверки резервных копий, включая контрольные суммы страниц данных.

## Полезные ссылки
Документация по pg_verifybackup
https://www.postgresql.org/docs/current/app-pgverifybackup.html
pg_verifybackup является важным инструментом для проверки целостности и полноты резервных копий PostgreSQL. Правильное использование этой утилиты помогает администраторам баз данных убедиться, что резервные копии пригодны для восстановления и обеспечивают защиту данных.