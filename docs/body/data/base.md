# base
Каталог /var/lib/pgsql/base в PostgreSQL является важным компонентом структуры хранения данных. Вот подробное описание его назначения и структуры:

Назначение каталога /var/lib/pgsql/base:

Хранение данных баз данных: Каталог base содержит данные всех баз данных, созданных в PostgreSQL. Каждая база данных представлена отдельным подкаталогом внутри base.
Изоляция данных: Подкаталоги внутри base изолируют данные разных баз данных, что упрощает управление и обеспечение безопасности.
Структура каталога /var/lib/pgsql/base:

Идентификаторы баз данных: Каждый подкаталог в base имеет имя, соответствующее уникальному идентификатору базы данных (OID - Object Identifier). Например, если у базы данных идентификатор 16384, то путь к ее данным будет /var/lib/pgsql/base/16384.
Файлы внутри подкаталогов: Внутри каждого подкаталога находятся файлы, представляющие объекты базы данных:
Таблицы: Таблицы хранятся в виде файлов с именами, соответствующими их собственным OID.
Индексы: Индексы таблиц также хранятся как файлы, их имена также основаны на OID.
Системные каталоги: Системные таблицы, которые PostgreSQL использует для управления метаданными, также хранятся здесь.
Файлы с данными: Эти файлы содержат фактические данные таблиц. Каждый файл может содержать данные для одной таблицы или для её части, в зависимости от размера таблицы и настроек хранения.
Пример структуры:


/var/lib/pgsql/base/
├── 16384/            # Подкаталог для базы данных с OID 16384
│   ├── 1255          # Файл данных для таблицы с OID 1255
│   ├── 1259          # Файл данных для другой таблицы с OID 1259
│   ├── 2662          # Файл данных для индекса с OID 2662
│   └── ...
├── 1/                # Подкаталог для базы данных с OID 1 (обычно шаблонная база)
├── 12345/            # Подкаталог для базы данных с OID 12345
└── ...
Примечания:

Безопасность и права доступа: Этот каталог должен быть защищен от несанкционированного доступа, так как он содержит критически важные данные. Обычно он принадлежит пользователю postgres и имеет ограниченные права доступа.
Резервное копирование: При выполнении резервного копирования и восстановления баз данных, данные из каталога base включаются в процесс, чтобы обеспечить целостность и полное восстановление баз данных.
Таким образом, каталог /var/lib/pgsql/base является ключевым местом для хранения всех данных баз данных в PostgreSQL, обеспечивая структуру и изоляцию, необходимые для эффективного управления данными.